<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Christy Cao" />
    <meta name="description" content="Describe your website">
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico">
    <title>Project 1</title>
    <meta name="generator" content="Hugo 0.70.0" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="/css/main.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,200bold,400old" />
    
    <!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->

    
  </head>

  <body>
    <div id="wrap">

      
      <nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="/"><i class="fa fa-home"></i></a>
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div class="navbar-collapse collapse" id="navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
        <li><a href="/blog/">BLOG</a></li>
        
        <li><a href="/projects/">PROJECTS</a></li>
        
        <li><a href="/resume/resume.pdf">RESUME</a></li>
        
      
      </ul>
    </div>
  </div>
</nav>

      
      <div class="container">
        <div class="blog-post">
          <h3>
            <strong><a href="/project1/">Project 1</a></strong>
          </h3>
        </div>
        <div class="blog-title">
          <h4>
          January 1, 0001
            &nbsp;&nbsp;
            
          </h4>
        </div>
        <div class="panel panel-default">
          <div class="panel-body">
            <div class="blogpost">
              


<p><strong>Introduction</strong></p>
<p>For this project, I will be analyzing the number of arrests for violent crimes and poverty percentage of each of the US states. Because laws and regulations can have a large impact on the safety and status of living of a state, I decided to include the major political party of each state. The examination of these variables can depict any differences/ correlations between Republican vs Democrat states in relation to the violent crimes and poverty percentages. With this information, we can generalize the protection from crime each state provides, and the general quality of living of each state through it’s crime rates and poverty percentages. We can go on to find out which state is potentially the safest/ most dangerous to live in and have a general idea of the representation of each state. I found all datasets online/ Google.</p>
<pre class="r"><code>#Data sets
#Data set #1: Violent Crime Rates by US State
library(readr)
crime &lt;- read_csv(&quot;USArrests.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   State = col_character(),
##   Murder = col_double(),
##   Assault = col_double(),
##   UrbanPop = col_double(),
##   Rape = col_double()
## )</code></pre>
<pre class="r"><code>head(crime)</code></pre>
<pre><code>## # A tibble: 6 x 5
##   State      Murder Assault UrbanPop  Rape
##   &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 Alabama      13.2     236       58  21.2
## 2 Alaska       10       263       48  44.5
## 3 Arizona       8.1     294       80  31  
## 4 Arkansas      8.8     190       50  19.5
## 5 California    9       276       91  40.6
## 6 Colorado      7.9     204       78  38.7</code></pre>
<pre class="r"><code>#Data set #2: Road Accident Deaths in US States
pov &lt;- read_csv(&quot;est18ustheOne.csv&quot;, 
    skip = 1)</code></pre>
<pre><code>## Warning: Missing column names filled in: &#39;X5&#39; [5], &#39;X6&#39; [6], &#39;X7&#39; [7],
## &#39;X8&#39; [8], &#39;X9&#39; [9], &#39;X10&#39; [10], &#39;X11&#39; [11], &#39;X12&#39; [12], &#39;X13&#39; [13], &#39;X14&#39; [14],
## &#39;X15&#39; [15], &#39;X16&#39; [16], &#39;X17&#39; [17], &#39;X18&#39; [18], &#39;X19&#39; [19], &#39;X20&#39; [20],
## &#39;X21&#39; [21], &#39;X22&#39; [22], &#39;X23&#39; [23], &#39;X24&#39; [24], &#39;X25&#39; [25]</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_logical(),
##   Name = col_character(),
##   `Poverty Percent, All Ages` = col_double(),
##   `90% CI Lower Bound` = col_double(),
##   `90% CI Upper Bound` = col_double()
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<pre class="r"><code>head(pov)</code></pre>
<pre><code>## # A tibble: 6 x 25
##   Name  `Poverty Percen… `90% CI Lower B… `90% CI Upper B… X5    X6    X7   
##   &lt;chr&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt; &lt;lgl&gt; &lt;lgl&gt; &lt;lgl&gt;
## 1 Alab…             16.8             16.5             17.1 NA    NA    NA   
## 2 Alas…             11.1             10.5             11.7 NA    NA    NA   
## 3 Ariz…             14.1             13.8             14.4 NA    NA    NA   
## 4 Arka…             16.8             16.3             17.3 NA    NA    NA   
## 5 Cali…             12.8             12.7             12.9 NA    NA    NA   
## 6 Colo…              9.7              9.5              9.9 NA    NA    NA   
## # … with 18 more variables: X8 &lt;lgl&gt;, X9 &lt;lgl&gt;, X10 &lt;lgl&gt;, X11 &lt;lgl&gt;,
## #   X12 &lt;lgl&gt;, X13 &lt;lgl&gt;, X14 &lt;lgl&gt;, X15 &lt;lgl&gt;, X16 &lt;lgl&gt;, X17 &lt;lgl&gt;,
## #   X18 &lt;lgl&gt;, X19 &lt;lgl&gt;, X20 &lt;lgl&gt;, X21 &lt;lgl&gt;, X22 &lt;lgl&gt;, X23 &lt;lgl&gt;,
## #   X24 &lt;lgl&gt;, X25 &lt;lgl&gt;</code></pre>
<pre class="r"><code>#Data set #3: Political party of each state 
library(readr)
pol &lt;- read_csv(&quot;stateparty.csv&quot;, 
    col_types = cols(`Political Party` = col_character(), 
        State = col_character()))
head(pol)</code></pre>
<pre><code>## # A tibble: 6 x 2
##   State      `Political Party`
##   &lt;chr&gt;      &lt;chr&gt;            
## 1 Alabama    Republican       
## 2 Alaska     Republican       
## 3 Arizona    Republican       
## 4 Arkansas   Republican       
## 5 California Democrat         
## 6 Colorado   Democrat</code></pre>
<p><strong>Tidying / Joining </strong></p>
<p>To begin working with the datasets I was interested in, I had to combine the 3 different datasets into one. After doing so, I was able to untidy/ tidy the dataset to show my understanding.</p>
<pre class="r"><code>#Tidying / Joining
library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ────────────────────────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.0     ✓ purrr   0.3.4
## ✓ tibble  3.0.1     ✓ stringr 1.4.0
## ✓ tidyr   1.0.3     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ───────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>crime&lt;-crime%&gt;%select(-UrbanPop)
pov&lt;-pov%&gt;%select(&quot;Name&quot;, &quot;Poverty Percent, All Ages&quot;)
merged1&lt;-full_join(crime,pov, by=c(&quot;State&quot;=&quot;Name&quot;))
glimpse(merged1)</code></pre>
<pre><code>## Rows: 50
## Columns: 5
## $ State                       &lt;chr&gt; &quot;Alabama&quot;, &quot;Alaska&quot;, &quot;Arizona&quot;, &quot;Arkansas…
## $ Murder                      &lt;dbl&gt; 13.2, 10.0, 8.1, 8.8, 9.0, 7.9, 3.3, 5.9,…
## $ Assault                     &lt;dbl&gt; 236, 263, 294, 190, 276, 204, 110, 238, 3…
## $ Rape                        &lt;dbl&gt; 21.2, 44.5, 31.0, 19.5, 40.6, 38.7, 11.1,…
## $ `Poverty Percent, All Ages` &lt;dbl&gt; 16.8, 11.1, 14.1, 16.8, 12.8, 9.7, 10.3, …</code></pre>
<pre class="r"><code>merged&lt;-full_join(merged1, pol, by=c(&quot;State&quot;=&quot;State&quot;))
glimpse(merged)</code></pre>
<pre><code>## Rows: 50
## Columns: 6
## $ State                       &lt;chr&gt; &quot;Alabama&quot;, &quot;Alaska&quot;, &quot;Arizona&quot;, &quot;Arkansas…
## $ Murder                      &lt;dbl&gt; 13.2, 10.0, 8.1, 8.8, 9.0, 7.9, 3.3, 5.9,…
## $ Assault                     &lt;dbl&gt; 236, 263, 294, 190, 276, 204, 110, 238, 3…
## $ Rape                        &lt;dbl&gt; 21.2, 44.5, 31.0, 19.5, 40.6, 38.7, 11.1,…
## $ `Poverty Percent, All Ages` &lt;dbl&gt; 16.8, 11.1, 14.1, 16.8, 12.8, 9.7, 10.3, …
## $ `Political Party`           &lt;chr&gt; &quot;Republican&quot;, &quot;Republican&quot;, &quot;Republican&quot;,…</code></pre>
<pre class="r"><code>#Untidying my dataset 
merged_untidy&lt;-merged%&gt;%pivot_longer(c(&quot;Murder&quot;,&quot;Assault&quot;,&quot;Rape&quot;),names_to=&quot;Type&quot;,values_to=&quot;Arrests&quot;)
glimpse(merged_untidy)</code></pre>
<pre><code>## Rows: 150
## Columns: 5
## $ State                       &lt;chr&gt; &quot;Alabama&quot;, &quot;Alabama&quot;, &quot;Alabama&quot;, &quot;Alaska&quot;…
## $ `Poverty Percent, All Ages` &lt;dbl&gt; 16.8, 16.8, 16.8, 11.1, 11.1, 11.1, 14.1,…
## $ `Political Party`           &lt;chr&gt; &quot;Republican&quot;, &quot;Republican&quot;, &quot;Republican&quot;,…
## $ Type                        &lt;chr&gt; &quot;Murder&quot;, &quot;Assault&quot;, &quot;Rape&quot;, &quot;Murder&quot;, &quot;A…
## $ Arrests                     &lt;dbl&gt; 13.2, 236.0, 21.2, 10.0, 263.0, 44.5, 8.1…</code></pre>
<pre class="r"><code>merged_tidy&lt;-merged_untidy%&gt;%pivot_wider(names_from=&quot;Type&quot;,values_from=&quot;Arrests&quot;)
glimpse(merged_tidy)</code></pre>
<pre><code>## Rows: 50
## Columns: 6
## $ State                       &lt;chr&gt; &quot;Alabama&quot;, &quot;Alaska&quot;, &quot;Arizona&quot;, &quot;Arkansas…
## $ `Poverty Percent, All Ages` &lt;dbl&gt; 16.8, 11.1, 14.1, 16.8, 12.8, 9.7, 10.3, …
## $ `Political Party`           &lt;chr&gt; &quot;Republican&quot;, &quot;Republican&quot;, &quot;Republican&quot;,…
## $ Murder                      &lt;dbl&gt; 13.2, 10.0, 8.1, 8.8, 9.0, 7.9, 3.3, 5.9,…
## $ Assault                     &lt;dbl&gt; 236, 263, 294, 190, 276, 204, 110, 238, 3…
## $ Rape                        &lt;dbl&gt; 21.2, 44.5, 31.0, 19.5, 40.6, 38.7, 11.1,…</code></pre>
<p>I selected the specific columns that I wanted in each dataset and did not select extra columns that were not needed (i.e., pov had NAs due to it being imported from excel, Urbanpop was deleted). Then, I successfully joined all three of my datasets and named it “merged”. The final dataset had the following variables: State, Murder, Assault, Rape, Poverty Percent, and Political Party. Afterwards, because my dataset was already tidy, I made them untidy and tidy per the instructions. I made my merged dataset longer by categorizing each crime under “Type” with its corresponding numerical value of amount of arrests under the column “Arrests”. Thus, the dataset became longer as each state had 3 types of crime (murder, assault, rape) with their corresponding amount of arrests. I then made my dataset back to its original by using pivot wider. When joining, I wanted to use all the variables of each dataset, so using full join was in my best interest. I used full join because each dataset had a similar variable (States) that allowed for me to join them all together without dropping any variables.</p>
<p><strong>Wrangling</strong></p>
<pre class="r"><code>#Wrangling

#returns greatest to least states where arrests for assaults are from 250-350
merged%&gt;%filter(between(Assault,250,350))%&gt;%arrange(desc(Assault))</code></pre>
<pre><code>## # A tibble: 12 x 6
##    State         Murder Assault  Rape `Poverty Percent, All Ag… `Political Part…
##    &lt;chr&gt;          &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;                     &lt;dbl&gt; &lt;chr&gt;           
##  1 North Caroli…   13       337  16.1                      14.1 Democrat        
##  2 Florida         15.4     335  31.9                      13.7 Republican      
##  3 Maryland        11.3     300  27.8                       9.1 Republican      
##  4 Arizona          8.1     294  31                        14.1 Republican      
##  5 New Mexico      11.4     285  32.1                      18.8 Democrat        
##  6 South Caroli…   14.4     279  22.5                      15.2 Republican      
##  7 California       9       276  40.6                      12.8 Democrat        
##  8 Alaska          10       263  44.5                      11.1 Republican      
##  9 Mississippi     16.1     259  17.1                      19.8 Republican      
## 10 Michigan        12.1     255  35.1                      14   Democrat        
## 11 New York        11.1     254  26.1                      13.7 Democrat        
## 12 Nevada          12.2     252  46                        13.1 Democrat</code></pre>
<pre class="r"><code>#returns the lowest to greatest level of poverty for Republican states
merged%&gt;%select(State, `Political Party`, `Poverty Percent, All Ages`) %&gt;% filter(`Political Party`==&quot;Republican&quot;) %&gt;%arrange(`Poverty Percent, All Ages`)</code></pre>
<pre><code>## # A tibble: 26 x 3
##    State         `Political Party` `Poverty Percent, All Ages`
##    &lt;chr&gt;         &lt;chr&gt;                                   &lt;dbl&gt;
##  1 New Hampshire Republican                                7.6
##  2 Maryland      Republican                                9.1
##  3 Utah          Republican                                9.1
##  4 Massachusetts Republican                               10  
##  5 North Dakota  Republican                               10.6
##  6 Vermont       Republican                               10.7
##  7 Wyoming       Republican                               10.7
##  8 Nebraska      Republican                               11  
##  9 Alaska        Republican                               11.1
## 10 Iowa          Republican                               11.2
## # … with 16 more rows</code></pre>
<pre class="r"><code>#returns the lowest to greatest level of poverty for Democrat states
merged%&gt;%select(State, `Political Party`, `Poverty Percent, All Ages`) %&gt;% filter(`Political Party`==&quot;Democrat&quot;) %&gt;%arrange(`Poverty Percent, All Ages`)</code></pre>
<pre><code>## # A tibble: 24 x 3
##    State       `Political Party` `Poverty Percent, All Ages`
##    &lt;chr&gt;       &lt;chr&gt;                                   &lt;dbl&gt;
##  1 Hawaii      Democrat                                  9  
##  2 New Jersey  Democrat                                  9.5
##  3 Minnesota   Democrat                                  9.6
##  4 Colorado    Democrat                                  9.7
##  5 Connecticut Democrat                                 10.3
##  6 Washington  Democrat                                 10.3
##  7 Virginia    Democrat                                 10.7
##  8 Wisconsin   Democrat                                 11.1
##  9 Maine       Democrat                                 11.6
## 10 Kansas      Democrat                                 11.9
## # … with 14 more rows</code></pre>
<pre class="r"><code>#returns the lowest levels to highest levels of arrests for each crime in the US states
merged_untidy%&gt;%filter(Type==&quot;Murder&quot;)%&gt;%arrange(Arrests)</code></pre>
<pre><code>## # A tibble: 50 x 5
##    State         `Poverty Percent, All Ages` `Political Party` Type   Arrests
##    &lt;chr&gt;                               &lt;dbl&gt; &lt;chr&gt;             &lt;chr&gt;    &lt;dbl&gt;
##  1 North Dakota                         10.6 Republican        Murder     0.8
##  2 Maine                                11.6 Democrat          Murder     2.1
##  3 New Hampshire                         7.6 Republican        Murder     2.1
##  4 Iowa                                 11.2 Republican        Murder     2.2
##  5 Vermont                              10.7 Republican        Murder     2.2
##  6 Idaho                                11.7 Republican        Murder     2.6
##  7 Wisconsin                            11.1 Democrat          Murder     2.6
##  8 Minnesota                             9.6 Democrat          Murder     2.7
##  9 Utah                                  9.1 Republican        Murder     3.2
## 10 Connecticut                          10.3 Democrat          Murder     3.3
## # … with 40 more rows</code></pre>
<pre class="r"><code>merged%&gt;%arrange(Murder)</code></pre>
<pre><code>## # A tibble: 50 x 6
##    State        Murder Assault  Rape `Poverty Percent, All Age… `Political Part…
##    &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;                      &lt;dbl&gt; &lt;chr&gt;           
##  1 North Dakota    0.8      45   7.3                       10.6 Republican      
##  2 Maine           2.1      83   7.8                       11.6 Democrat        
##  3 New Hampshi…    2.1      57   9.5                        7.6 Republican      
##  4 Iowa            2.2      56  11.3                       11.2 Republican      
##  5 Vermont         2.2      48  11.2                       10.7 Republican      
##  6 Idaho           2.6     120  14.2                       11.7 Republican      
##  7 Wisconsin       2.6      53  10.8                       11.1 Democrat        
##  8 Minnesota       2.7      72  14.9                        9.6 Democrat        
##  9 Utah            3.2     120  22.9                        9.1 Republican      
## 10 Connecticut     3.3     110  11.1                       10.3 Democrat        
## # … with 40 more rows</code></pre>
<pre class="r"><code>merged_untidy%&gt;%filter(Type==&quot;Assault&quot;)%&gt;%arrange(Arrests)</code></pre>
<pre><code>## # A tibble: 50 x 5
##    State         `Poverty Percent, All Ages` `Political Party` Type    Arrests
##    &lt;chr&gt;                               &lt;dbl&gt; &lt;chr&gt;             &lt;chr&gt;     &lt;dbl&gt;
##  1 North Dakota                         10.6 Republican        Assault      45
##  2 Hawaii                                9   Democrat          Assault      46
##  3 Vermont                              10.7 Republican        Assault      48
##  4 Wisconsin                            11.1 Democrat          Assault      53
##  5 Iowa                                 11.2 Republican        Assault      56
##  6 New Hampshire                         7.6 Republican        Assault      57
##  7 Minnesota                             9.6 Democrat          Assault      72
##  8 West Virginia                        17.4 Republican        Assault      81
##  9 Maine                                11.6 Democrat          Assault      83
## 10 South Dakota                         12.9 Republican        Assault      86
## # … with 40 more rows</code></pre>
<pre class="r"><code>merged%&gt;%arrange(Assault)</code></pre>
<pre><code>## # A tibble: 50 x 6
##    State        Murder Assault  Rape `Poverty Percent, All Age… `Political Part…
##    &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;                      &lt;dbl&gt; &lt;chr&gt;           
##  1 North Dakota    0.8      45   7.3                       10.6 Republican      
##  2 Hawaii          5.3      46  20.2                        9   Democrat        
##  3 Vermont         2.2      48  11.2                       10.7 Republican      
##  4 Wisconsin       2.6      53  10.8                       11.1 Democrat        
##  5 Iowa            2.2      56  11.3                       11.2 Republican      
##  6 New Hampshi…    2.1      57   9.5                        7.6 Republican      
##  7 Minnesota       2.7      72  14.9                        9.6 Democrat        
##  8 West Virgin…    5.7      81   9.3                       17.4 Republican      
##  9 Maine           2.1      83   7.8                       11.6 Democrat        
## 10 South Dakota    3.8      86  12.8                       12.9 Republican      
## # … with 40 more rows</code></pre>
<pre class="r"><code>merged_untidy%&gt;%filter(Type==&quot;Rape&quot;)%&gt;%arrange(Arrests)</code></pre>
<pre><code>## # A tibble: 50 x 5
##    State         `Poverty Percent, All Ages` `Political Party` Type  Arrests
##    &lt;chr&gt;                               &lt;dbl&gt; &lt;chr&gt;             &lt;chr&gt;   &lt;dbl&gt;
##  1 North Dakota                         10.6 Republican        Rape      7.3
##  2 Maine                                11.6 Democrat          Rape      7.8
##  3 Rhode Island                         12.8 Democrat          Rape      8.3
##  4 West Virginia                        17.4 Republican        Rape      9.3
##  5 New Hampshire                         7.6 Republican        Rape      9.5
##  6 Wisconsin                            11.1 Democrat          Rape     10.8
##  7 Connecticut                          10.3 Democrat          Rape     11.1
##  8 Vermont                              10.7 Republican        Rape     11.2
##  9 Iowa                                 11.2 Republican        Rape     11.3
## 10 South Dakota                         12.9 Republican        Rape     12.8
## # … with 40 more rows</code></pre>
<pre class="r"><code>merged%&gt;%arrange(Rape)</code></pre>
<pre><code>## # A tibble: 50 x 6
##    State        Murder Assault  Rape `Poverty Percent, All Age… `Political Part…
##    &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;                      &lt;dbl&gt; &lt;chr&gt;           
##  1 North Dakota    0.8      45   7.3                       10.6 Republican      
##  2 Maine           2.1      83   7.8                       11.6 Democrat        
##  3 Rhode Island    3.4     174   8.3                       12.8 Democrat        
##  4 West Virgin…    5.7      81   9.3                       17.4 Republican      
##  5 New Hampshi…    2.1      57   9.5                        7.6 Republican      
##  6 Wisconsin       2.6      53  10.8                       11.1 Democrat        
##  7 Connecticut     3.3     110  11.1                       10.3 Democrat        
##  8 Vermont         2.2      48  11.2                       10.7 Republican      
##  9 Iowa            2.2      56  11.3                       11.2 Republican      
## 10 South Dakota    3.8      86  12.8                       12.9 Republican      
## # … with 40 more rows</code></pre>
<pre class="r"><code>#mutate - averaged the total arrests for total crime and made a new variable to the dataset
merged_total&lt;- merged%&gt;%mutate(average_arrest=(Murder+Rape+Assault)/3)
head(merged_total)</code></pre>
<pre><code>## # A tibble: 6 x 7
##   State  Murder Assault  Rape `Poverty Percent,… `Political Part… average_arrest
##   &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;              &lt;dbl&gt; &lt;chr&gt;                     &lt;dbl&gt;
## 1 Alaba…   13.2     236  21.2               16.8 Republican                 90.1
## 2 Alaska   10       263  44.5               11.1 Republican                106. 
## 3 Arizo…    8.1     294  31                 14.1 Republican                111. 
## 4 Arkan…    8.8     190  19.5               16.8 Republican                 72.8
## 5 Calif…    9       276  40.6               12.8 Democrat                  109. 
## 6 Color…    7.9     204  38.7                9.7 Democrat                   83.5</code></pre>
<pre class="r"><code>#shows the mean, sd, and var of poverty levels for the Republican States 
merged%&gt;%filter(`Political Party`==&quot;Republican&quot;)%&gt;%summarize(mean_pov_republic=mean(`Poverty Percent, All Ages`), sd_pov_republic=sd(`Poverty Percent, All Ages`),var_pov_republic=var(`Poverty Percent, All Ages`))</code></pre>
<pre><code>## # A tibble: 1 x 3
##   mean_pov_republic sd_pov_republic var_pov_republic
##               &lt;dbl&gt;           &lt;dbl&gt;            &lt;dbl&gt;
## 1              13.1            2.94             8.64</code></pre>
<pre class="r"><code>#shows the mean, sd, and var of poverty levels for the Democrat States 
merged%&gt;%filter(`Political Party`==&quot;Democrat&quot;)%&gt;%summarize(mean_pov_democrat=mean(`Poverty Percent, All Ages`), sd_pov_democrat=sd(`Poverty Percent, All Ages`), var_pov_democart=var(`Poverty Percent, All Ages`))</code></pre>
<pre><code>## # A tibble: 1 x 3
##   mean_pov_democrat sd_pov_democrat var_pov_democart
##               &lt;dbl&gt;           &lt;dbl&gt;            &lt;dbl&gt;
## 1              12.5            2.61             6.81</code></pre>
<pre class="r"><code>#summary stats over total poverty levels and total arrests for murder, assault, and rape in the US
merged%&gt;%summarize(mean_murder=mean(Murder), sd_murder=sd(Murder), var_murder=var(Murder), mean_assault=mean(Assault), sd_assault=sd(Assault), var_assault=var(Assault), mean_rape=mean(Rape), sd_rape=sd(Rape), var_rape=var(Rape), mean_poverty=mean(`Poverty Percent, All Ages`), sd_poverty=sd(`Poverty Percent, All Ages`), var_poverty=var(`Poverty Percent, All Ages`))</code></pre>
<pre><code>## # A tibble: 1 x 12
##   mean_murder sd_murder var_murder mean_assault sd_assault var_assault mean_rape
##         &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;
## 1        7.79      4.36       19.0         171.       83.3       6945.      21.2
## # … with 5 more variables: sd_rape &lt;dbl&gt;, var_rape &lt;dbl&gt;, mean_poverty &lt;dbl&gt;,
## #   sd_poverty &lt;dbl&gt;, var_poverty &lt;dbl&gt;</code></pre>
<pre class="r"><code>#shows only Republican states, the mean arrests (for rape, murder, assault) for each state
meanRepub&lt;-merged_untidy%&gt;%filter(`Political Party`==&quot;Republican&quot;)%&gt;%group_by(State, `Political Party`)%&gt;%summarize(mean_crime=mean(Arrests))
meanRepub</code></pre>
<pre><code>## # A tibble: 26 x 3
## # Groups:   State [26]
##    State    `Political Party` mean_crime
##    &lt;chr&gt;    &lt;chr&gt;                  &lt;dbl&gt;
##  1 Alabama  Republican              90.1
##  2 Alaska   Republican             106. 
##  3 Arizona  Republican             111. 
##  4 Arkansas Republican              72.8
##  5 Florida  Republican             127. 
##  6 Georgia  Republican              84.7
##  7 Idaho    Republican              45.6
##  8 Indiana  Republican              47.1
##  9 Iowa     Republican              23.2
## 10 Maryland Republican             113. 
## # … with 16 more rows</code></pre>
<pre class="r"><code>#shows only Democratic states, the mean arrests (for rape, murder, assault) for each state,
meanDemo&lt;-merged_untidy%&gt;%filter(`Political Party`==&quot;Democrat&quot;)%&gt;%group_by(State, `Political Party`)%&gt;%summarize(mean_crime=mean(Arrests))
meanDemo</code></pre>
<pre><code>## # A tibble: 24 x 3
## # Groups:   State [24]
##    State       `Political Party` mean_crime
##    &lt;chr&gt;       &lt;chr&gt;                  &lt;dbl&gt;
##  1 California  Democrat               109. 
##  2 Colorado    Democrat                83.5
##  3 Connecticut Democrat                41.5
##  4 Delaware    Democrat                86.6
##  5 Hawaii      Democrat                23.8
##  6 Illinois    Democrat                94.5
##  7 Kansas      Democrat                46.3
##  8 Kentucky    Democrat                45  
##  9 Louisiana   Democrat                95.5
## 10 Maine       Democrat                31.0
## # … with 14 more rows</code></pre>
<pre class="r"><code>#summary stats for max and min arrests. Returns the Republican state with the max amount of arrests and the Republican state with the min amount of arrests 
meanRepub%&gt;%filter(mean_crime==max(meanRepub$mean_crime))</code></pre>
<pre><code>## # A tibble: 1 x 3
## # Groups:   State [1]
##   State   `Political Party` mean_crime
##   &lt;chr&gt;   &lt;chr&gt;                  &lt;dbl&gt;
## 1 Florida Republican              127.</code></pre>
<pre class="r"><code>meanRepub%&gt;%filter(mean_crime==min(meanRepub$mean_crime))</code></pre>
<pre><code>## # A tibble: 1 x 3
## # Groups:   State [1]
##   State        `Political Party` mean_crime
##   &lt;chr&gt;        &lt;chr&gt;                  &lt;dbl&gt;
## 1 North Dakota Republican              17.7</code></pre>
<pre class="r"><code>#summary stats for max and min arrests. Returns the Democratic state with the max amount of arrests and the Democratic state with the min amount of arrests 
meanDemo%&gt;%filter(mean_crime==max(meanDemo$mean_crime))</code></pre>
<pre><code>## # A tibble: 1 x 3
## # Groups:   State [1]
##   State          `Political Party` mean_crime
##   &lt;chr&gt;          &lt;chr&gt;                  &lt;dbl&gt;
## 1 North Carolina Democrat                122.</code></pre>
<pre class="r"><code>meanDemo%&gt;%filter(mean_crime==min(meanDemo$mean_crime))</code></pre>
<pre><code>## # A tibble: 1 x 3
## # Groups:   State [1]
##   State     `Political Party` mean_crime
##   &lt;chr&gt;     &lt;chr&gt;                  &lt;dbl&gt;
## 1 Wisconsin Democrat                22.1</code></pre>
<pre class="r"><code>#correlation between arrests for murder and arrests for assaults (strong correlation)
cor(merged$Murder,merged$Assault)</code></pre>
<pre><code>## [1] 0.8018733</code></pre>
<pre class="r"><code>#correlation between arrests for murder and arrests for rape (moderate correlation)
cor(merged$Murder, merged$Rape)</code></pre>
<pre><code>## [1] 0.5635788</code></pre>
<pre class="r"><code>#correlation between arrests for assault and arrests for rape (moderate correlation)
cor(merged$Assault, merged$Rape)</code></pre>
<pre><code>## [1] 0.6652412</code></pre>
<pre class="r"><code>#correlation between poverty level and mean of arrests for all crimes (moderate correlation)
merged_untidy2&lt;-merged_untidy%&gt;%group_by(State, `Poverty Percent, All Ages`)%&gt;%summarize(mean_crime1=mean(Arrests))
cor(merged_untidy2$`Poverty Percent, All Ages`, merged_untidy2$mean_crime1)</code></pre>
<pre><code>## [1] 0.4277604</code></pre>
<pre class="r"><code>#counts the amount of Republican states vs the amount of Democrat states 
merged%&gt;%filter(`Political Party`==&quot;Republican&quot;)%&gt;%count()</code></pre>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1    26</code></pre>
<pre class="r"><code>merged%&gt;%filter(`Political Party`==&quot;Democrat&quot;)%&gt;%count()</code></pre>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1    24</code></pre>
<pre class="r"><code>#returns the median states with the median average arrests of total crime
merged_total%&gt;%filter(average_arrest==median(average_arrest))</code></pre>
<pre><code>## # A tibble: 2 x 7
##   State  Murder Assault  Rape `Poverty Percent,… `Political Part… average_arrest
##   &lt;chr&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;              &lt;dbl&gt; &lt;chr&gt;                     &lt;dbl&gt;
## 1 New J…    7.4     159  18.8                9.5 Democrat                   61.7
## 2 Virgi…    8.5     156  20.7               10.7 Democrat                   61.7</code></pre>
<p>I evaluated the different numeric and categorical variables in the dataset and attempted to analyze relationships between them. By using different commands of arrange, filter, etc., I was able to see the least to greatest amounts of arrests per crime, poverty percentage, and the associated political party of each state. With this information, the socioeconomic status and safety of each state can easily be observed through each list. In addition, I used “mutate” to average the amount of arrests per crime and made a new variable called “average arrests”. This makes it easier to know where crime is the most in each state. Furthermore, the summary statistics of each variable was found in order to get a representation of the US. The data was also separated between democrat and republican states to further see if there was any differences between the two political parties. Correlations between the variables were also found.
The lowest and highest level of poverty percentage for Republican states are 7.6 (New Hampshire) and 19.8 (Mississippi). The lowest and highest level of poverty percentage for Democratic states are 9.0 (Hawaii) and 18.8 (Mexico). In addition, North Dakota (republican) had the highest murder, assault, and rape arrests compared to all other states. The highest correlation of arrests was between Murder and Assault. Overall, with this information, it was noted that Republican states have generally higher arrests per crime and higher mean poverty levels of those in Democratic states. With the wrangling data above, we can further expand our knowledge on each state and their demographics.</p>
<p><strong>Visualization</strong></p>
<pre class="r"><code>#Visualization
#Correlation heatmap
library(tidyverse)
library(ggplot2)
merged%&gt;%select_if(is.numeric)%&gt;%cor%&gt;%as.data.frame%&gt;%
rownames_to_column%&gt;%pivot_longer(-1)%&gt;%
ggplot(aes(rowname,name,fill=value))+geom_tile()+
geom_text(aes(label=round(value,2)))+
xlab(&quot;&quot;)+ylab(&quot;&quot;)+ scale_fill_gradient2(low=&quot;red&quot;,high=&quot;blue&quot;) + ggtitle(&quot;Correlation Between Numeric Variables&quot;)</code></pre>
<p><img src="/project1_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code>ggplot(data = merged, aes(x = Murder, y = Assault, color = `Political Party`)) +
  geom_point(size = 3) + ggtitle(&quot;Scatterplot of Murder vs Assault between Democratic and Republican States&quot;)</code></pre>
<p><img src="/project1_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
<pre class="r"><code>ggplot(merged_total, aes(x=`Poverty Percent, All Ages`, fill=`Political Party`)) + scale_fill_brewer(palette = &quot;Pastel1&quot;)+  theme(legend.position=c(.9,.7)) + geom_density(alpha=.75) +ggtitle(&quot;Density Graph of Poverty Percent Between Democrat &amp; Republican States&quot;)</code></pre>
<p><img src="/project1_files/figure-html/unnamed-chunk-4-3.png" width="672" /></p>
<pre class="r"><code>ggplot(merged_total, aes(x = `Political Party`, y = average_arrest, fill=`Political Party`))+
geom_bar(stat=&quot;summary&quot;,fun.y=&quot;mean&quot;)+ scale_fill_brewer(palette = &quot;Pastel1&quot;)+
geom_errorbar(stat=&quot;summary&quot;, width=.5) + theme(legend.position = &quot;none&quot;) + ggtitle(&quot;Average Arrests for Democrat vs Republican States&quot;)</code></pre>
<pre><code>## Warning: Ignoring unknown parameters: fun.y</code></pre>
<pre><code>## No summary function supplied, defaulting to `mean_se()`
## No summary function supplied, defaulting to `mean_se()`</code></pre>
<p><img src="/project1_files/figure-html/unnamed-chunk-4-4.png" width="672" /></p>
<p>I created a correlation heat map, density graph, scatterplot, and a bar graph. The correlation heat map displayed the correlation between the numeric variables. The correlation values were color-coded in order to help visualize and easily depict the correlation value between the numeric values. The correlation heatmap showed that Murder and Assault had the highest correlation of .8, Rape and Assault had a moderate correlation of .67, and the lowest correlation of .13 between Poverty Percentage and Rape. For the scatterplot, both democrat and republican states showed a best fit linear correlation for muder and assault relationship. This tells us that no matter what political party the state identifies as, the more murder there appears to be, the more assault there appears to be. This can be further supported by the correlation of .8 from the correlation heat map. The density graph shows the poverty percent of each state and its political party. It easily depicts the skewness of the graphs. The density graphs shows us that Republican states have a general spread across poverty percent where Democratic states are higher around 10-12.5, and decreases around 15+. The bar graph shows that democratic states have generally higher arrests but because the standard error bars overlap, we cannot say this is significant information.</p>
<p><strong>Dimensionality Reduction</strong></p>
<pre class="r"><code>#Dimensionality Reduction
library(cluster)
pam_dat&lt;-merged_total%&gt;%select(Rape, Murder, Assault, `Poverty Percent, All Ages`)
sil_width&lt;-vector()
for(i in 2:10){
pam_fit &lt;- pam(pam_dat, diss = TRUE, k = i)
sil_width[i] &lt;- pam_fit$silinfo$avg.width
}</code></pre>
<pre><code>## Warning in as.dist.default(x): non-square matrix

## Warning in as.dist.default(x): non-square matrix

## Warning in as.dist.default(x): non-square matrix

## Warning in as.dist.default(x): non-square matrix

## Warning in as.dist.default(x): non-square matrix

## Warning in as.dist.default(x): non-square matrix

## Warning in as.dist.default(x): non-square matrix

## Warning in as.dist.default(x): non-square matrix

## Warning in as.dist.default(x): non-square matrix</code></pre>
<pre class="r"><code>ggplot()+geom_line(aes(x=1:10,y=sil_width))+scale_x_continuous(name=&quot;k&quot;,breaks=1:10)</code></pre>
<pre><code>## Warning: Removed 1 row(s) containing missing values (geom_path).</code></pre>
<p><img src="/project1_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>pam1&lt;-pam_dat%&gt;%pam(k=2)
pam1</code></pre>
<pre><code>## Medoids:
##      ID Rape Murder Assault Poverty Percent, All Ages
## [1,] 32 26.1   11.1     254                      13.7
## [2,] 26 16.4    6.0     109                      12.9
## Clustering vector:
##  [1] 1 1 1 1 1 1 2 1 1 1 2 2 1 2 2 2 2 1 2 1 2 1 2 1 2 2 2 1 2 2 1 1 1 2 2 2 2 2
## [39] 2 1 2 1 1 2 2 2 2 2 2 2
## Objective function:
##    build     swap 
## 42.76792 34.60428 
## 
## Available components:
##  [1] &quot;medoids&quot;    &quot;id.med&quot;     &quot;clustering&quot; &quot;objective&quot;  &quot;isolation&quot; 
##  [6] &quot;clusinfo&quot;   &quot;silinfo&quot;    &quot;diss&quot;       &quot;call&quot;       &quot;data&quot;</code></pre>
<pre class="r"><code>pamclust&lt;-pam_dat %&gt;% mutate(cluster=as.factor(pam1$clustering))
pamclust %&gt;% ggplot(aes(Murder,Assault,color=cluster)) + geom_point()</code></pre>
<p><img src="/project1_files/figure-html/unnamed-chunk-5-2.png" width="672" /></p>
<pre class="r"><code>pamclust %&gt;% group_by(cluster) %&gt;% summarize_if(is.numeric,mean,na.rm=T)</code></pre>
<pre><code>## # A tibble: 2 x 5
##   cluster  Rape Murder Assault `Poverty Percent, All Ages`
##   &lt;fct&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;                       &lt;dbl&gt;
## 1 1        28.1  11.9     255                         14.3
## 2 2        16.2   4.84    110.                        11.7</code></pre>
<pre class="r"><code>pam1$silinfo$avg.width</code></pre>
<pre><code>## [1] 0.6198666</code></pre>
<pre class="r"><code>library(GGally)</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;GGally&#39;:
##   method from   
##   +.gg   ggplot2</code></pre>
<pre><code>## 
## Attaching package: &#39;GGally&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     nasa</code></pre>
<pre class="r"><code>pamclust%&gt;%ggpairs(columns=1:4,aes(color=cluster))</code></pre>
<p><img src="/project1_files/figure-html/unnamed-chunk-5-3.png" width="672" /></p>
<p>I found out the best k to use was 2. Setting my k equal to 2, I performed PAM clustering and 2 clusters were found distinctly (you could even say there is a good vs a bad cluster - low vs high cluster in crime). Furthermore, the ggpairs shows us the different clusters that could have been made and how the original cluster of murder and assault we made was the best cluster graph.</p>

              <hr>
              <div class="related-posts">
                <h5>Related Posts</h5>
                
              </div>
            </div>
          </div>
          <hr>
        <div class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">

    (function() {
      
      
      if (window.location.hostname == "localhost")
        return;

      var disqus_shortname = '';
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
        </div>
      </div>
      
    </div>

    
    <footer>
  <div id="footer">
    <div class="container">
      <p class="text-muted">&copy; All rights reserved. Powered by <a href="https://gohugo.io/">Hugo</a> and
      <a href="http://www.github.com/nurlansu/hugo-sustain/">sustain</a> with ♥</p>
    </div>
  </div>
</footer>
<div class="footer"></div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/docs.min.js"></script>
<script src="/js/main.js"></script>

<script src="/js/ie10-viewport-bug-workaround.js"></script>


    
  </body>
</html>
